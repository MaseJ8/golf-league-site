<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Narrow Fairways League</title>

<link rel="stylesheet" href="style.css">
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
</head>

<body>

<nav class="navbar">
  <div class="logo">Narrow Fairways</div>
  <ul>
    <li><a href="#home">Home</a></li>
    <li><a href="#tournaments">Tournaments</a></li>
    <li><a href="#players">Players</a></li>
    <li><a href="#standings">Standings</a></li>
    <li><a href="#register">Register</a></li>
  </ul>
</nav>

<header class="hero" id="home">
  <div class="hero-content">
    <h1>2026 Golf Season</h1>
    <p>Compete. Improve. Win.</p>
    <div class="hero-buttons">
      <a class="btn primary">Join League</a>
      <a class="btn secondary">View Standings</a>
    </div>
  </div>
</header>

<section class="stats">
  <div>
    <h3>32</h3>
    <p>Players</p>
  </div>
  <div>
    <h3>12</h3>
    <p>Weeks</p>
  </div>
  <div>
    <h3>$6000</h3>
    <p>Prize Money</p>
  </div>
  <div>
    <h3>1</h3>
    <p>Champion</p>
  </div>
</section>

<section class="next-event" id="tournaments">
  <h2>Next Tournament</h2>
  <div class="event-card">
    <h3>St George, Utah</h3>
    <p>üìÖ October, 2026</p>
    <p>üìç TBD</p>
    <p>üèåÔ∏è Tourney</p>
    <button class="btn primary">Register Now</button>
  </div>
</section>

<section class="features" id="players">
  <div class="feature">
    <h3>Live Scores</h3>
    <p>Track your performance in real time.</p>
  </div>
  <div class="feature">
    <h3>Player Profiles</h3>
    <p>Stats, history, and rankings.</p>
  </div>
  <div class="feature">
    <h3>Season Standings</h3>
    <p>Follow the leaderboard all year.</p>
  </div>
</section>

<!-- Score Submission Section -->
<section class="score-entry" id="standings">
  <h2>Submit Your Score</h2>
  <form id="score-form">
    <label for="player-name">Player Name:</label>
    <input type="text" id="player-name" name="player-name" required>

    <label for="course">Course:</label>
    <select id="course" name="course">
      <option value="">Select course</option>
    </select>

    <label for="tee">Tee Box:</label>
    <select id="tee" name="tee">
      <option value="">Select tee</option>
    </select>

    <div id="manual-slope-container" style="display:none;">
      <label for="manual-slope">Slope (if not in database):</label>
      <input type="number" id="manual-slope" name="manual-slope" min="60" max="155">
    </div>

    <label for="score">Gross Score:</label>
    <input type="number" id="score" name="score" required min="1">

    <button type="submit" class="btn primary">Submit Score</button>
  </form>

  <h2>Leaderboard</h2>
  <table id="leaderboard">
    <thead>
      <tr>
        <th>Player</th>
        <th>Gross</th>
        <th>Net</th>
        <th>Course</th>
        <th>Tee</th>
      </tr>
    </thead>
    <tbody></tbody>
  </table>
</section>

<footer id="register">
  <p>¬© 2026 Narrow Fairways League</p>
</footer>

<script>
// ===== Course Database =====
const courses = [
  { name: "Pebble Beach", tees: { "Blue": 135, "White": 130, "Red": 120 } },
  { name: "St George GC", tees: { "Blue": 125, "White": 120, "Red": 110 } },
  { name: "Augusta National", tees: { "Masters": 155, "Member": 140 } }
];

// ===== Player Data =====
const players = [
  { name: "Mason Joe", handicap: 5 },
  { name: "Micah Joe", handicap: 8 },
  { name: "Kiwi", handicap: 20 }
];

// ===== Form Elements =====
const courseSelect = document.getElementById("course");
const teeSelect = document.getElementById("tee");
const manualSlopeContainer = document.getElementById("manual-slope-container");
const form = document.getElementById("score-form");
const leaderboardBody = document.querySelector("#leaderboard tbody");

let scores = [];

// Populate courses dropdown
courses.forEach(c => {
  const opt = document.createElement("option");
  opt.value = c.name;
  opt.textContent = c.name;
  courseSelect.appendChild(opt);
});

// Update tees when course selected
courseSelect.addEventListener("change", () => {
  teeSelect.innerHTML = '<option value="">Select tee</option>';
  manualSlopeContainer.style.display = "none";
  
  const selected = courses.find(c => c.name === courseSelect.value);
  if (selected) {
    Object.keys(selected.tees).forEach(tee => {
      const opt = document.createElement("option");
      opt.value = tee;
      opt.textContent = tee;
      teeSelect.appendChild(opt);
    });
  } else {
    manualSlopeContainer.style.display = "block";
  }
});

// NET score calculation
function calculateNetScore(gross, slope, handicap) {
  return Math.round(gross - (handicap * slope / 113));
}

// Handle form submission
form.addEventListener("submit", function(e) {
  e.preventDefault();

  const playerName = document.getElementById("player-name").value;
  const courseName = courseSelect.value;
  const teeName = teeSelect.value;
  const grossScore = parseInt(document.getElementById("score").value);

  const player = players.find(p => p.name === playerName) || { handicap: 0 };

  // Determine slope
  let slope = 113; // default
  const course = courses.find(c => c.name === courseName);
  if (course && teeName && course.tees[teeName]) {
    slope = course.tees[teeName];
  } else {
    slope = parseInt(document.getElementById("manual-slope").value) || 113;
  }

  const netScore = calculateNetScore(grossScore, slope, player.handicap);

  scores.push({ player: playerName, gross: grossScore, net: netScore, course: courseName, tee: teeName });

  scores.sort((a,b) => a.net - b.net);

  leaderboardBody.innerHTML = "";
  scores.forEach(s => {
    const row = document.createElement("tr");
    row.innerHTML = `<td>${s.player}</td><td>${s.gross}</td><td>${s.net}</td><td>${s.course}</td><td>${s.tee}</td>`;
    leaderboardBody.appendChild(row);
  });

  form.reset();
  teeSelect.innerHTML = '<option value="">Select tee</option>';
  manualSlopeContainer.style.display = "none";
});
</script>

</body>
</html>
